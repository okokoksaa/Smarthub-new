# IMPORTANT: This is a template. DO NOT commit actual secrets to Git.
# Use kubectl create secret or Sealed Secrets in production.
#
# To create secrets:
# kubectl create secret generic cdf-smarthub-secrets \
#   --from-literal=DB_USERNAME=postgres \
#   --from-literal=DB_PASSWORD=your-secure-password \
#   --from-literal=JWT_SECRET=your-jwt-secret \
#   --from-literal=JWT_REFRESH_SECRET=your-refresh-secret \
#   --namespace=cdf-smarthub

apiVersion: v1
kind: Secret
metadata:
  name: cdf-smarthub-secrets
  namespace: cdf-smarthub
type: Opaque
stringData:
  # Database Credentials (REPLACE WITH ACTUAL VALUES)
  DB_USERNAME: "postgres"
  DB_PASSWORD: "CHANGE_ME_SECURE_PASSWORD"

  # JWT Secrets (REPLACE WITH ACTUAL VALUES - use strong random strings)
  JWT_SECRET: "CHANGE_ME_JWT_SECRET_AT_LEAST_32_CHARS"
  JWT_REFRESH_SECRET: "CHANGE_ME_REFRESH_SECRET_AT_LEAST_32_CHARS"

  # Redis Password (if authentication enabled)
  REDIS_PASSWORD: "CHANGE_ME_REDIS_PASSWORD"

  # MinIO Credentials
  MINIO_ACCESS_KEY: "CHANGE_ME_MINIO_ACCESS_KEY"
  MINIO_SECRET_KEY: "CHANGE_ME_MINIO_SECRET_KEY"

  # Email SMTP Credentials
  SMTP_USERNAME: "smtp-user@gov.zm"
  SMTP_PASSWORD: "CHANGE_ME_SMTP_PASSWORD"

  # SMS Provider Credentials (Africa's Talking)
  SMS_API_KEY: "CHANGE_ME_SMS_API_KEY"
  SMS_USERNAME: "sandbox"  # or production username

  # Encryption Key for sensitive data
  ENCRYPTION_KEY: "CHANGE_ME_ENCRYPTION_KEY_32_BYTES"

---
# Example: Generate secrets using kubectl
#
# Generate random secrets:
# JWT_SECRET=$(openssl rand -base64 32)
# JWT_REFRESH_SECRET=$(openssl rand -base64 32)
# ENCRYPTION_KEY=$(openssl rand -base64 32)
#
# kubectl create secret generic cdf-smarthub-secrets \
#   --from-literal=DB_USERNAME=postgres \
#   --from-literal=DB_PASSWORD="$(openssl rand -base64 32)" \
#   --from-literal=JWT_SECRET="$JWT_SECRET" \
#   --from-literal=JWT_REFRESH_SECRET="$JWT_REFRESH_SECRET" \
#   --from-literal=REDIS_PASSWORD="$(openssl rand -base64 32)" \
#   --from-literal=MINIO_ACCESS_KEY="minio-admin" \
#   --from-literal=MINIO_SECRET_KEY="$(openssl rand -base64 32)" \
#   --from-literal=SMTP_USERNAME="smtp-user@gov.zm" \
#   --from-literal=SMTP_PASSWORD="smtp-password" \
#   --from-literal=SMS_API_KEY="your-sms-api-key" \
#   --from-literal=SMS_USERNAME="your-sms-username" \
#   --from-literal=ENCRYPTION_KEY="$ENCRYPTION_KEY" \
#   --namespace=cdf-smarthub \
#   --dry-run=client -o yaml > secrets-generated.yaml
