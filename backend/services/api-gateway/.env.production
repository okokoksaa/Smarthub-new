# CDF Smart Hub API Gateway - PRODUCTION Environment
# ===================================================
# IMPORTANT: Generate new secrets before deployment!
# ===================================================

NODE_ENV=production
API_GATEWAY_PORT=3000

# ===========================================
# SUPABASE CONFIGURATION (Required)
# ===========================================
SUPABASE_URL=https://bwcqjrsuzvsqnmkznmiy.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3Y3FqcnN1enZzcW5ta3pubWl5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2ODkwNjQ0MywiZXhwIjoyMDg0NDgyNDQzfQ.DXFCBtbu-a5F7-fIgVFpUbHYd3IsbWi91IdPExesW-8
SUPABASE_DB_URL=postgresql://postgres:gucnaS-povqiw-cyhka3@db.bwcqjrsuzvsqnmkznmiy.supabase.co:5432/postgres
DATABASE_URL=${SUPABASE_DB_URL}

# Disable dev overrides in production
DEV_ASSUME_SUPER_ADMIN=false
DEV_SELF_GRANT_ENABLED=false

# ===========================================
# DATABASE CONFIGURATION (Required)
# ===========================================
# Use Supabase PostgreSQL or your own PostgreSQL instance
DB_HOST=db.bwcqjrsuzvsqnmkznmiy.supabase.co
DB_PORT=5432
DB_NAME=postgres
DB_USERNAME=postgres
DB_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
DB_SSL_ENABLED=true
DB_SYNCHRONIZE=false
DB_LOGGING=false

# ===========================================
# JWT CONFIGURATION (Required)
# Generate with: openssl rand -base64 64
# ===========================================
JWT_SECRET=CHANGE_ME_GENERATE_SECURE_256_BIT_SECRET_FOR_PRODUCTION
SUPABASE_JWT_SECRET=${JWT_SECRET}
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_DIFFERENT_SECURE_SECRET_FOR_REFRESH
JWT_EXPIRATION=1h
JWT_REFRESH_EXPIRATION=7d
JWT_ISSUER=cdf-smarthub.gov.zm

# ===========================================
# REDIS CONFIGURATION (Required for sessions)
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_SECURE_REDIS_PASSWORD
REDIS_DB=0

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# CORS CONFIGURATION (Required)
# Add your production domains here
# ===========================================
CORS_ORIGIN=https://cdfsmarthub.com,https://www.cdfsmarthub.com,https://admin.cdfsmarthub.com

# ===========================================
# SECURITY
# ===========================================
HELMET_ENABLED=true

# ===========================================
# SWAGGER DOCUMENTATION
# Disable in production for security
# ===========================================
SWAGGER_ENABLED=false
SWAGGER_PATH=api/docs

# ===========================================
# MONITORING & LOGGING (Optional)
# ===========================================
SENTRY_DSN=
LOG_LEVEL=info

# ===========================================
# EMAIL SERVICE (Optional - for notifications)
# ===========================================
SENDGRID_API_KEY=
EMAIL_FROM=noreply@cdfsmarthub.com

# ===========================================
# SMS SERVICE (Optional - for notifications)
# ===========================================
AFRICASTALKING_API_KEY=
AFRICASTALKING_USERNAME=
